<html lang="eng">
  <head>
    <meta charset="utf-8" />
    <title>My first three.js app</title>
    <style>
      html,
      body {
        margin: 0;
        width: 100%;
        height: 100%;
      }
      .sun-background {
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgb(52, 52, 52), rgb(0, 0, 0));
        opacity: 1;
      }
      .moon-background {
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(313deg, #0b1a2b 33%, #3a6291 111%);
        opacity: 0%;
      }
      canvas {
        position: relative;
      }
    </style>
    <script
    async
    src="https://cdn.skypack.dev/three@0.137"></script>
     <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.skypack.dev/three@0.137",
        "three/addons/": "https://cdn.skypack.dev/examples/jsm/"
    }
    
    }
  </script>
   
  <script type="module">
  import {
        Scene,
        PerspectiveCamera,
        WebGLRenderer,
        Mesh,
        Color,
        SphereGeometry,
        TextureLoader,
        MeshPhysicalMaterial,
        ACESFilmicToneMapping,
        sRGBEncoding,
        PCFSoftShadowMap,
        DirectionalLight,
      } from 'three'; 
    import { OrbitControls } from 'https://cdn.skypack.dev/three-stdlib@2.8.5/controls/OrbitControls';

      const scene = new Scene();

      const camera = new PerspectiveCamera(45, innerWidth / innerHeight, 0.1, 1000);
      camera.position.set(0, -10, 100);

      const renderer = new WebGLRenderer({
        antialias: true,
        alpha: true,
      });
      renderer.setSize(innerWidth, innerHeight);
      renderer.toneMapping = ACESFilmicToneMapping;
      renderer.outputEncoding = sRGBEncoding;
      renderer.physicallyCorrectLights = true;
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = PCFSoftShadowMap;
      document.body.appendChild(renderer.domElement);

      const controls = new OrbitControls(camera, renderer.domElement);
      controls.target.set(0, 0, 0);
      controls.dampingFactor = 0.05;
      controls.enableDamping = true;

      const sunLight = new DirectionalLight(new Color("#FFFFFF"), 3.5);
      sunLight.position.set(10, 20, 50);
      sunLight.castShadow = false;
      sunLight.shadow.mapSize.width = 500;
      sunLight.shadow.mapSize.height = 500;
      sunLight.shadow.camera.near = 0.5;
      sunLight.shadow.camera.far = 100;
      sunLight.shadow.camera.left = -5;
      sunLight.shadow.camera.bottom = 0;
      sunLight.shadow.camera.top = 10;
      sunLight.shadow.camera.right = 10;
      scene.add(sunLight);



      (async function () {
        
        let textures = {
            bump: await new TextureLoader().loadAsync("/vanilla/assets/earthbump.jpg"),
            map: await new TextureLoader().loadAsync("/vanilla/assets/earthmap.jpg"),
            spec: await new TextureLoader().loadAsync("/vanilla/assets/earthspec.jpg"),
        };

        let sphere = new Mesh(
        new SphereGeometry(10, 70, 70),
        new MeshPhysicalMaterial({ 
            map: textures.map,
            roughnessMap: textures.spec,
            bumpMap: textures.bump,
            bumpScale: 0.05,
            sheen: 1,
            sheenRoughness: 0.75,
            sheenColor: new Color('#fff').convertSRGBToLinear(),
            clearcoat: 0.5,
          }),
            );
            sphere.receiveShadow = true;
            scene.add(sphere);

      renderer.setAnimationLoop(() => {
            controls.update();
          renderer.render(scene, camera);
        });
      })();

    </script>
  </head>
  <body>
   
 <div class="sun-background"></div>

 <div class="moon-background"></div>
  </body>
</html>
